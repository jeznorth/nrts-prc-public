<div class="applications-view">
  <h1 class="sr-only">Find Applications in British Columbia</h1>

  <div class="side-nav">
    <ul>
      <li class="side-nav-item" 
        [ngClass]="{'active': configService.isFindAppsVisible && configService.isSidePanelVisible}">
        <button class="btn" 
          (click)="showFind();">
          <i class="material-icons">search</i>
          <div>Find</div>
        </button>
      </li>
      <li class="side-nav-item" 
        [ngClass]="{'active': configService.isAppDetailsVisible && configService.isSidePanelVisible}">
        <button class="btn" 
          (click)="showDetails();">
          <i class="material-icons">info</i>
          <div>Details</div>
        </button>
      </li>
    </ul>
  </div>

  <div class="side-panel" [ngClass]="configService.isSidePanelVisible ? 'open':'closed'">
    <button class="side-panel__close-btn btn btn-icon" (click)="configService.isSidePanelVisible=false; $event.stopPropagation();">
      <i class="material-icons">close</i>
    </button>
    <app-details #appdetail 
      [appId]="currentAppId" 
      [hidden]="!configService.isAppDetailsVisible">
    </app-details>
    <app-applist-filters #appfilters 
      (updateFilters)="updateFilters($event)"
      [hidden]="!configService.isFindAppsVisible">
    </app-applist-filters>
  </div>

  <div class="main-panel">
    <app-applist-list class="app-list" style="display: none;" #applist
      [applications]="apps"
      (setCurrentApp)="highlightApplication($event, true)"
      (unsetCurrentApp)="highlightApplication($event, false)">
    </app-applist-list>

    <app-applist-map class="app-map" #appmap
      [applications]="apps"
      [applist]="applist"
      [appfilters]="appfilters"
      (toggleCurrentApp)="toggleCurrentApp($event)"
      (updateCoordinates)="updateCoordinates($event)"
      (setCurrentApp)="highlightApplication($event, true)">
    </app-applist-map>
  </div>

</div>